<div class="agents-container" id="agents-list">
  <div class="agents-header">
    <h2>Our Insurance Agents</h2>
    <p class="subtitle">Licensed professionals ready to serve you</p>
  </div>

  @if (loading) {
    <div class="loading">Loading agents...</div>
  }

  @if (!loading) {
    <div class="agents-grid">
      @for (agent of agents; track agent.agentID) {
        <div class="agent-card">
          <div class="agent-image-wrapper">
            <img [src]="agent.imgUri || 'img/agents/default.png'" [alt]="agent.firstName + ' ' + agent.lastName" class="agent-image">
          </div>
          <div class="agent-info">
            <h3 class="agent-name">{{ agent.firstName }} {{ agent.lastName }}</h3>
            <p class="agent-license">LIC#: {{ agent.license }}</p>

            <div class="agent-contact">
              @if (agent.phone) {
                <div class="contact-item">
                  <i class="bx bx-phone"></i>
                  <a [href]="'tel:' + agent.phone">{{ agent.phone }}</a>
                </div>
              }
              @if (agent.email) {
                <div class="contact-item">
                  <i class="bx bx-envelope"></i>
                  <a [href]="'mailto:' + agent.email">{{ agent.email }}</a>
                </div>
              }
            </div>
          </div>
        </div>
      }
    </div>
  }
</div>
